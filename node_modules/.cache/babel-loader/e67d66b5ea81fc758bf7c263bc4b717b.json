{"ast":null,"code":"import _asyncToGenerator from\"/Users/matteopolo/reactProjects/Brewdog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/matteopolo/reactProjects/Brewdog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/matteopolo/reactProjects/Brewdog/node_modules/@babel/runtime/regenerator/index.js\";import{useState,useEffect}from\"react\";import axios from'axios';var useFetch=function useFetch(query){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setIsError=_useState6[1];var url=\"https://api.punkapi.com/v2/beers\".concat(query);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsError(false);setIsLoading(true);_context.prev=2;_context.next=5;return axios.get(url);case 5:response=_context.sent;setData(response.data);setIsLoading(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setIsError(true);setIsLoading(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}))(url);},[url]);return{isLoading:isLoading,data:data,isError:isError};};export default useFetch;","map":{"version":3,"sources":["/Users/matteopolo/reactProjects/Brewdog/src/useFetch.js"],"names":["useState","useEffect","axios","useFetch","query","isLoading","setIsLoading","data","setData","isError","setIsError","url","get","response"],"mappings":"0XAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxB,cAAkCJ,QAAQ,CAAC,IAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eACA,eAAwBN,QAAQ,CAAC,EAAD,CAAhC,yCAAOO,IAAP,eAAaC,OAAb,eACA,eAA8BR,QAAQ,CAAC,KAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eACA,GAAIC,CAAAA,GAAG,2CAAsCP,KAAtC,CAAP,CAEAH,SAAS,CAAC,UAAM,CACZ,wDAAC,gJACGS,UAAU,CAAC,KAAD,CAAV,CACAJ,YAAY,CAAC,IAAD,CAAZ,CAFH,sCAI8BJ,CAAAA,KAAK,CAACU,GAAN,CAAUD,GAAV,CAJ9B,QAIaE,QAJb,eAKOL,OAAO,CAACK,QAAQ,CAACN,IAAV,CAAP,CACAD,YAAY,CAAC,KAAD,CAAZ,CANP,iFAQOI,UAAU,CAAC,IAAD,CAAV,CACAJ,YAAY,CAAC,KAAD,CAAZ,CATP,qEAAD,GAWGK,GAXH,EAYH,CAbQ,CAaN,CAACA,GAAD,CAbM,CAAT,CAcA,MAAO,CAAEN,SAAS,CAATA,SAAF,CAAaE,IAAI,CAAJA,IAAb,CAAmBE,OAAO,CAAPA,OAAnB,CAAP,CACH,CArBD,CAsBA,cAAeN,CAAAA,QAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from 'axios';\n\nconst useFetch = (query) => {\n    const [isLoading, setIsLoading] = useState(true);\n    const [data, setData] = useState([]);\n    const [isError, setIsError] = useState(false);\n    let url = `https://api.punkapi.com/v2/beers${query}`;\n\n    useEffect(() => {\n        (async () => {\n            setIsError(false);\n            setIsLoading(true);\n            try {\n                const response = await axios.get(url);\n                setData(response.data);\n                setIsLoading(false);\n            } catch (err) {\n                setIsError(true);\n                setIsLoading(false);\n            }\n        })(url)\n    }, [url]);\n    return { isLoading, data, isError };\n}\nexport default useFetch;"]},"metadata":{},"sourceType":"module"}